<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Moda Clothing API Documentation</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --primary: #6366f1;
      --primary-dark: #4f46e5;
      --success: #10b981;
      --warning: #f59e0b;
      --danger: #ef4444;
      --info: #3b82f6;
      --dark: #1e293b;
      --light: #f8fafc;
      --border: #e2e8f0;
      --text: #334155;
      --text-light: #64748b;
    }
    
    * { margin: 0; padding: 0; box-sizing: border-box; }
    
    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      color: var(--text);
      line-height: 1.6;
    }
    
    .container { max-width: 1200px; margin: 0 auto; padding: 20px; }
    
    /* Header */
    .header {
      text-align: center;
      padding: 60px 20px;
      color: white;
    }
    .header h1 {
      font-size: 3rem;
      font-weight: 700;
      margin-bottom: 10px;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
    }
    .header p { font-size: 1.2rem; opacity: 0.9; }
    .header .version {
      display: inline-block;
      background: rgba(255,255,255,0.2);
      padding: 5px 15px;
      border-radius: 20px;
      margin-top: 15px;
      font-size: 0.9rem;
    }
    .base-url {
      background: rgba(0,0,0,0.3);
      padding: 15px 25px;
      border-radius: 10px;
      margin-top: 20px;
      display: inline-block;
      font-family: 'Monaco', 'Consolas', monospace;
      font-size: 1rem;
    }
    
    /* Main Content */
    .main-content {
      background: white;
      border-radius: 20px;
      box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
      padding: 40px;
      margin-bottom: 40px;
    }
    
    /* Navigation */
    .nav {
      position: sticky;
      top: 20px;
      background: white;
      border-radius: 12px;
      padding: 20px;
      margin-bottom: 20px;
      z-index: 100;
    }
    .nav h3 { margin-bottom: 15px; color: var(--dark); }
    .nav-links { display: flex; flex-wrap: wrap; gap: 10px; }
    .nav-link {
      padding: 8px 16px;
      background: var(--light);
      border-radius: 8px;
      text-decoration: none;
      color: var(--text);
      font-size: 0.9rem;
      transition: all 0.2s;
    }
    .nav-link:hover { background: var(--primary); color: white; }
    
    /* API Section */
    .api-section { margin-bottom: 40px; }
    .api-section h2 {
      font-size: 1.8rem;
      color: var(--dark);
      margin-bottom: 20px;
      padding-bottom: 10px;
      border-bottom: 3px solid var(--primary);
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    /* Endpoint Card */
    .endpoint {
      background: var(--light);
      border-radius: 12px;
      margin-bottom: 15px;
      overflow: hidden;
      border: 1px solid var(--border);
      transition: all 0.3s ease;
    }
    .endpoint:hover {
      box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1);
      transform: translateY(-2px);
    }
    .endpoint-header {
      display: flex;
      align-items: center;
      padding: 15px 20px;
      cursor: pointer;
      gap: 15px;
    }
    .method {
      padding: 6px 12px;
      border-radius: 6px;
      font-weight: 600;
      font-size: 0.75rem;
      text-transform: uppercase;
      min-width: 70px;
      text-align: center;
    }
    .method.get { background: #dcfce7; color: #166534; }
    .method.post { background: #dbeafe; color: #1e40af; }
    .method.put { background: #fef3c7; color: #92400e; }
    .method.delete { background: #fee2e2; color: #991b1b; }
    
    .endpoint-path {
      font-family: 'Monaco', 'Consolas', monospace;
      font-weight: 500;
      color: var(--dark);
      flex: 1;
    }
    .endpoint-desc { color: var(--text-light); font-size: 0.9rem; }
    .auth-badge {
      background: var(--warning);
      color: white;
      padding: 4px 10px;
      border-radius: 4px;
      font-size: 0.7rem;
      font-weight: 600;
    }
    .endpoint-details {
      display: none;
      padding: 20px;
      background: white;
      border-top: 1px solid var(--border);
    }
    .endpoint.active .endpoint-details { display: block; }
    .endpoint.active .endpoint-header { background: white; }
    
    /* Try It Section */
    .try-section {
      margin-top: 20px;
      padding: 20px;
      background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
      border-radius: 12px;
      border: 2px solid var(--info);
    }
    .try-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
    }
    .try-header h4 {
      color: var(--info);
      font-size: 1rem;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .try-btn {
      background: var(--info);
      color: white;
      border: none;
      padding: 10px 24px;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .try-btn:hover { background: #2563eb; transform: scale(1.02); }
    .try-btn:disabled { background: #94a3b8; cursor: not-allowed; }
    .try-btn.loading { pointer-events: none; }
    
    /* Form Inputs */
    .form-group { margin-bottom: 15px; }
    .form-group label {
      display: block;
      font-weight: 600;
      margin-bottom: 6px;
      color: var(--dark);
      font-size: 0.9rem;
    }
    .form-group label span.required { color: var(--danger); }
    .form-group label span.optional { color: var(--text-light); font-weight: 400; }
    .form-group input, .form-group textarea, .form-group select {
      width: 100%;
      padding: 12px 16px;
      border: 2px solid var(--border);
      border-radius: 8px;
      font-size: 0.95rem;
      transition: all 0.2s;
      font-family: inherit;
    }
    .form-group input:focus, .form-group textarea:focus, .form-group select:focus {
      outline: none;
      border-color: var(--info);
      box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
    }
    .form-group textarea { min-height: 100px; resize: vertical; }
    .form-group .hint {
      font-size: 0.8rem;
      color: var(--text-light);
      margin-top: 4px;
    }
    .form-row {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 15px;
    }
    
    /* Response Section */
    .response-section {
      margin-top: 20px;
      border-radius: 12px;
      overflow: hidden;
      border: 2px solid var(--border);
    }
    .response-header {
      padding: 12px 16px;
      background: var(--dark);
      color: white;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .response-header .status {
      padding: 4px 12px;
      border-radius: 4px;
      font-weight: 600;
      font-size: 0.85rem;
    }
    .response-header .status.success { background: var(--success); }
    .response-header .status.error { background: var(--danger); }
    .response-header .status.warning { background: var(--warning); }
    .response-body {
      background: #1e293b;
      padding: 16px;
      max-height: 400px;
      overflow: auto;
    }
    .response-body pre {
      color: #e2e8f0;
      font-family: 'Monaco', 'Consolas', monospace;
      font-size: 0.85rem;
      white-space: pre-wrap;
      word-break: break-word;
      margin: 0;
    }
    .response-body .json-key { color: #7ee787; }
    .response-body .json-string { color: #a5d6ff; }
    .response-body .json-number { color: #79c0ff; }
    .response-body .json-boolean { color: #ff7b72; }
    .response-body .json-null { color: #8b949e; }
    
    /* Copy button */
    .copy-btn {
      background: transparent;
      border: 1px solid rgba(255,255,255,0.3);
      color: white;
      padding: 6px 12px;
      border-radius: 4px;
      font-size: 0.8rem;
      cursor: pointer;
      transition: all 0.2s;
    }
    .copy-btn:hover { background: rgba(255,255,255,0.1); }
    
    /* Loading spinner */
    .spinner {
      width: 16px;
      height: 16px;
      border: 2px solid rgba(255,255,255,0.3);
      border-top-color: white;
      border-radius: 50%;
      animation: spin 0.8s linear infinite;
    }
    @keyframes spin { to { transform: rotate(360deg); } }
    
    /* Token input */
    .token-section {
      background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
      border: 2px solid var(--warning);
      border-radius: 12px;
      padding: 20px;
      margin-bottom: 30px;
    }
    .token-section h3 {
      color: #92400e;
      margin-bottom: 12px;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .token-input-wrapper {
      display: flex;
      gap: 10px;
    }
    .token-input-wrapper input {
      flex: 1;
      padding: 12px 16px;
      border: 2px solid var(--border);
      border-radius: 8px;
      font-family: 'Monaco', 'Consolas', monospace;
      font-size: 0.9rem;
    }
    .token-input-wrapper button {
      background: #92400e;
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
    }
    
    /* Footer */
    .footer {
      text-align: center;
      padding: 30px;
      color: white;
      opacity: 0.8;
    }
    
    /* Responsive */
    @media (max-width: 768px) {
      .header h1 { font-size: 2rem; }
      .main-content { padding: 20px; }
      .endpoint-header { flex-wrap: wrap; }
      .endpoint-desc { width: 100%; margin-top: 10px; }
      .form-row { grid-template-columns: 1fr; }
    }
    
    .toggle-icon { transition: transform 0.3s ease; }
    .endpoint.active .toggle-icon { transform: rotate(180deg); }
    
    /* Params table */
    .params-table { width: 100%; border-collapse: collapse; font-size: 0.9rem; margin-bottom: 15px; }
    .params-table th, .params-table td { padding: 10px 15px; text-align: left; border-bottom: 1px solid var(--border); }
    .params-table th { background: var(--light); font-weight: 600; color: var(--dark); }
    .param-name { font-family: 'Monaco', 'Consolas', monospace; color: var(--primary); }
    .param-type { background: var(--light); padding: 2px 8px; border-radius: 4px; font-size: 0.8rem; color: var(--text-light); }
  </style>
</head>
<body>
  <div class="header">
    <h1>üõçÔ∏è Moda Clothing API</h1>
    <p>RESTful API cho ·ª©ng d·ª•ng th·ªùi trang Moda Clothing</p>
    <span class="version">Version 1.0.0</span>
    <div class="base-url" id="baseUrl">Base URL: http://localhost:{{PORT}}/api</div>
  </div>

  <div class="container">
    <div class="main-content">
      <!-- Token Section -->
      <div class="token-section">
        <h3>üîë Bearer Token (cho c√°c API y√™u c·∫ßu x√°c th·ª±c)</h3>
        <p style="color: #92400e; margin-bottom: 12px; font-size: 0.9rem;">
          ƒêƒÉng nh·∫≠p ƒë·ªÉ l·∫•y token, sau ƒë√≥ paste v√†o ƒë√¢y ƒë·ªÉ test c√°c API y√™u c·∫ßu auth.
        </p>
        <div class="token-input-wrapper">
          <input type="text" id="globalToken" placeholder="Paste your access token here..." />
          <button onclick="saveToken()">üíæ L∆∞u Token</button>
        </div>
      </div>

      <!-- Navigation -->
      <div class="nav">
        <h3>üìë M·ª•c l·ª•c</h3>
        <div class="nav-links">
          <a href="#auth" class="nav-link">üîê Authentication</a>
          <a href="#products" class="nav-link">üì¶ Products</a>
          <a href="#categories" class="nav-link">üìÅ Categories</a>
          <a href="#orders" class="nav-link">üõí Orders</a>
          <a href="#addresses" class="nav-link">üìç Addresses</a>
          <a href="#reviews" class="nav-link">‚≠ê Reviews</a>
        </div>
      </div>

      <!-- ============== AUTHENTICATION ============== -->
      <div class="api-section" id="auth">
        <h2>üîê Authentication</h2>

        <!-- Login -->
        <div class="endpoint" id="endpoint-login">
          <div class="endpoint-header" onclick="toggleEndpoint('endpoint-login')">
            <span class="method post">POST</span>
            <span class="endpoint-path">/auth/login</span>
            <span class="endpoint-desc">ƒêƒÉng nh·∫≠p</span>
            <span class="toggle-icon">‚ñº</span>
          </div>
          <div class="endpoint-details">
            <table class="params-table">
              <tr><th>Tham s·ªë</th><th>Ki·ªÉu</th><th>M√¥ t·∫£</th></tr>
              <tr><td class="param-name">email</td><td><span class="param-type">string</span></td><td>Email ho·∫∑c Username</td></tr>
              <tr><td class="param-name">password</td><td><span class="param-type">string</span></td><td>M·∫≠t kh·∫©u</td></tr>
            </table>
            
            <div class="try-section">
              <div class="try-header">
                <h4>üß™ Try it out</h4>
              </div>
              <div class="form-row">
                <div class="form-group">
                  <label>Email / Username <span class="required">*</span></label>
                  <input type="text" id="login-email" placeholder="vd: test@example.com" />
                </div>
                <div class="form-group">
                  <label>Password <span class="required">*</span></label>
                  <input type="password" id="login-password" placeholder="Nh·∫≠p m·∫≠t kh·∫©u" />
                </div>
              </div>
              <button class="try-btn" onclick="tryLogin()">
                <span>‚ñ∂ Execute</span>
              </button>
              <div id="login-response"></div>
            </div>
          </div>
        </div>

        <!-- Register -->
        <div class="endpoint" id="endpoint-register">
          <div class="endpoint-header" onclick="toggleEndpoint('endpoint-register')">
            <span class="method post">POST</span>
            <span class="endpoint-path">/auth/register</span>
            <span class="endpoint-desc">ƒêƒÉng k√Ω t√†i kho·∫£n m·ªõi</span>
            <span class="toggle-icon">‚ñº</span>
          </div>
          <div class="endpoint-details">
            <div class="try-section">
              <div class="try-header">
                <h4>üß™ Try it out</h4>
              </div>
              <div class="form-row">
                <div class="form-group">
                  <label>Username <span class="required">*</span></label>
                  <input type="text" id="register-username" placeholder="vd: johndoe" />
                </div>
                <div class="form-group">
                  <label>Email <span class="required">*</span></label>
                  <input type="email" id="register-email" placeholder="vd: john@example.com" />
                </div>
              </div>
              <div class="form-row">
                <div class="form-group">
                  <label>Password <span class="required">*</span></label>
                  <input type="password" id="register-password" placeholder="T·ªëi thi·ªÉu 6 k√Ω t·ª±" />
                </div>
                <div class="form-group">
                  <label>Full Name <span class="required">*</span></label>
                  <input type="text" id="register-fullname" placeholder="vd: John Doe" />
                </div>
              </div>
              <div class="form-group">
                <label>Phone <span class="optional">(optional)</span></label>
                <input type="text" id="register-phone" placeholder="vd: 0909123456" />
              </div>
              <button class="try-btn" onclick="tryRegister()">
                <span>‚ñ∂ Execute</span>
              </button>
              <div id="register-response"></div>
            </div>
          </div>
        </div>

        <!-- Get Me -->
        <div class="endpoint" id="endpoint-me">
          <div class="endpoint-header" onclick="toggleEndpoint('endpoint-me')">
            <span class="method get">GET</span>
            <span class="endpoint-path">/auth/me</span>
            <span class="endpoint-desc">L·∫•y th√¥ng tin user hi·ªán t·∫°i</span>
            <span class="auth-badge">üîí AUTH</span>
            <span class="toggle-icon">‚ñº</span>
          </div>
          <div class="endpoint-details">
            <div class="try-section">
              <div class="try-header">
                <h4>üß™ Try it out</h4>
              </div>
              <p style="color: var(--text-light); margin-bottom: 15px; font-size: 0.9rem;">
                ‚ö†Ô∏è Y√™u c·∫ßu Bearer Token. H√£y ƒëƒÉng nh·∫≠p tr∆∞·ªõc v√† l∆∞u token ·ªü ph·∫ßn tr√™n.
              </p>
              <button class="try-btn" onclick="tryGetMe()">
                <span>‚ñ∂ Execute</span>
              </button>
              <div id="me-response"></div>
            </div>
          </div>
        </div>
      </div>

      <!-- ============== PRODUCTS ============== -->
      <div class="api-section" id="products">
        <h2>üì¶ Products</h2>

        <!-- Get Products -->
        <div class="endpoint" id="endpoint-products">
          <div class="endpoint-header" onclick="toggleEndpoint('endpoint-products')">
            <span class="method get">GET</span>
            <span class="endpoint-path">/products</span>
            <span class="endpoint-desc">L·∫•y danh s√°ch s·∫£n ph·∫©m (ph√¢n trang, l·ªçc, s·∫Øp x·∫øp)</span>
            <span class="toggle-icon">‚ñº</span>
          </div>
          <div class="endpoint-details">
            <div class="try-section">
              <div class="try-header">
                <h4>üß™ Try it out</h4>
              </div>
              <div class="form-row">
                <div class="form-group">
                  <label>Page <span class="optional">(default: 1)</span></label>
                  <input type="number" id="products-page" placeholder="1" value="1" />
                </div>
                <div class="form-group">
                  <label>Limit <span class="optional">(default: 10)</span></label>
                  <input type="number" id="products-limit" placeholder="10" value="5" />
                </div>
              </div>
              <div class="form-row">
                <div class="form-group">
                  <label>Category (ID ho·∫∑c Slug)</label>
                  <input type="text" id="products-category" placeholder="vd: ao-thun" />
                </div>
                <div class="form-group">
                  <label>Search</label>
                  <input type="text" id="products-search" placeholder="T√¨m ki·∫øm theo t√™n..." />
                </div>
              </div>
              <div class="form-row">
                <div class="form-group">
                  <label>Min Price</label>
                  <input type="number" id="products-minprice" placeholder="0" />
                </div>
                <div class="form-group">
                  <label>Max Price</label>
                  <input type="number" id="products-maxprice" placeholder="1000000" />
                </div>
              </div>
              <div class="form-row">
                <div class="form-group">
                  <label>Sort By</label>
                  <select id="products-sortby">
                    <option value="CreatedAt">CreatedAt (Ng√†y t·∫°o)</option>
                    <option value="BasePrice">BasePrice (Gi√°)</option>
                    <option value="Name">Name (T√™n)</option>
                    <option value="TotalSold">TotalSold (ƒê√£ b√°n)</option>
                  </select>
                </div>
                <div class="form-group">
                  <label>Sort Order</label>
                  <select id="products-sortorder">
                    <option value="DESC">DESC (Gi·∫£m d·∫ßn)</option>
                    <option value="ASC">ASC (TƒÉng d·∫ßn)</option>
                  </select>
                </div>
              </div>
              <button class="try-btn" onclick="tryGetProducts()">
                <span>‚ñ∂ Execute</span>
              </button>
              <div id="products-response"></div>
            </div>
          </div>
        </div>

        <!-- Get Product Detail -->
        <div class="endpoint" id="endpoint-product-detail">
          <div class="endpoint-header" onclick="toggleEndpoint('endpoint-product-detail')">
            <span class="method get">GET</span>
            <span class="endpoint-path">/products/:idOrSlug</span>
            <span class="endpoint-desc">Chi ti·∫øt s·∫£n ph·∫©m (colors, sizes, SKUs, reviews)</span>
            <span class="toggle-icon">‚ñº</span>
          </div>
          <div class="endpoint-details">
            <div class="try-section">
              <div class="try-header">
                <h4>üß™ Try it out</h4>
              </div>
              <div class="form-group">
                <label>Product ID ho·∫∑c Slug <span class="required">*</span></label>
                <input type="text" id="product-id" placeholder="vd: 1 ho·∫∑c ao-thun-basic" />
                <div class="hint">Nh·∫≠p ID (s·ªë) ho·∫∑c slug c·ªßa s·∫£n ph·∫©m</div>
              </div>
              <button class="try-btn" onclick="tryGetProductDetail()">
                <span>‚ñ∂ Execute</span>
              </button>
              <div id="product-detail-response"></div>
            </div>
          </div>
        </div>

        <!-- Featured Products -->
        <div class="endpoint" id="endpoint-featured">
          <div class="endpoint-header" onclick="toggleEndpoint('endpoint-featured')">
            <span class="method get">GET</span>
            <span class="endpoint-path">/products/featured</span>
            <span class="endpoint-desc">S·∫£n ph·∫©m b√°n ch·∫°y</span>
            <span class="toggle-icon">‚ñº</span>
          </div>
          <div class="endpoint-details">
            <div class="try-section">
              <div class="try-header">
                <h4>üß™ Try it out</h4>
              </div>
              <div class="form-group">
                <label>Limit <span class="optional">(default: 8)</span></label>
                <input type="number" id="featured-limit" placeholder="8" value="4" />
              </div>
              <button class="try-btn" onclick="tryGetFeatured()">
                <span>‚ñ∂ Execute</span>
              </button>
              <div id="featured-response"></div>
            </div>
          </div>
        </div>

        <!-- Search Products -->
        <div class="endpoint" id="endpoint-search">
          <div class="endpoint-header" onclick="toggleEndpoint('endpoint-search')">
            <span class="method get">GET</span>
            <span class="endpoint-path">/products/search</span>
            <span class="endpoint-desc">T√¨m ki·∫øm s·∫£n ph·∫©m</span>
            <span class="toggle-icon">‚ñº</span>
          </div>
          <div class="endpoint-details">
            <div class="try-section">
              <div class="try-header">
                <h4>üß™ Try it out</h4>
              </div>
              <div class="form-row">
                <div class="form-group">
                  <label>Query <span class="required">*</span></label>
                  <input type="text" id="search-query" placeholder="vd: √°o thun" />
                  <div class="hint">T·ªëi thi·ªÉu 2 k√Ω t·ª±</div>
                </div>
                <div class="form-group">
                  <label>Limit</label>
                  <input type="number" id="search-limit" placeholder="10" value="5" />
                </div>
              </div>
              <button class="try-btn" onclick="trySearch()">
                <span>‚ñ∂ Execute</span>
              </button>
              <div id="search-response"></div>
            </div>
          </div>
        </div>
      </div>

      <!-- ============== CATEGORIES ============== -->
      <div class="api-section" id="categories">
        <h2>üìÅ Categories</h2>

        <div class="endpoint" id="endpoint-categories">
          <div class="endpoint-header" onclick="toggleEndpoint('endpoint-categories')">
            <span class="method get">GET</span>
            <span class="endpoint-path">/categories</span>
            <span class="endpoint-desc">L·∫•y t·∫•t c·∫£ danh m·ª•c</span>
            <span class="toggle-icon">‚ñº</span>
          </div>
          <div class="endpoint-details">
            <div class="try-section">
              <div class="try-header">
                <h4>üß™ Try it out</h4>
              </div>
              <button class="try-btn" onclick="tryGetCategories()">
                <span>‚ñ∂ Execute</span>
              </button>
              <div id="categories-response"></div>
            </div>
          </div>
        </div>
      </div>

      <!-- ============== ORDERS ============== -->
      <div class="api-section" id="orders">
        <h2>üõí Orders</h2>

        <!-- Get Orders -->
        <div class="endpoint" id="endpoint-orders">
          <div class="endpoint-header" onclick="toggleEndpoint('endpoint-orders')">
            <span class="method get">GET</span>
            <span class="endpoint-path">/orders</span>
            <span class="endpoint-desc">L·∫•y danh s√°ch ƒë∆°n h√†ng c·ªßa user</span>
            <span class="auth-badge">üîí AUTH</span>
            <span class="toggle-icon">‚ñº</span>
          </div>
          <div class="endpoint-details">
            <div class="try-section">
              <div class="try-header">
                <h4>üß™ Try it out</h4>
              </div>
              <div class="form-row">
                <div class="form-group">
                  <label>Page</label>
                  <input type="number" id="orders-page" placeholder="1" value="1" />
                </div>
                <div class="form-group">
                  <label>Status</label>
                  <select id="orders-status">
                    <option value="">T·∫•t c·∫£</option>
                    <option value="M·ªõi">M·ªõi</option>
                    <option value="ƒêang x·ª≠ l√Ω">ƒêang x·ª≠ l√Ω</option>
                    <option value="ƒêang giao">ƒêang giao</option>
                    <option value="Ho√†n th√†nh">Ho√†n th√†nh</option>
                    <option value="ƒê√£ h·ªßy">ƒê√£ h·ªßy</option>
                  </select>
                </div>
              </div>
              <button class="try-btn" onclick="tryGetOrders()">
                <span>‚ñ∂ Execute</span>
              </button>
              <div id="orders-response"></div>
            </div>
          </div>
        </div>

        <!-- Create Order -->
        <div class="endpoint" id="endpoint-create-order">
          <div class="endpoint-header" onclick="toggleEndpoint('endpoint-create-order')">
            <span class="method post">POST</span>
            <span class="endpoint-path">/orders</span>
            <span class="endpoint-desc">T·∫°o ƒë∆°n h√†ng m·ªõi</span>
            <span class="auth-badge">üîí AUTH</span>
            <span class="toggle-icon">‚ñº</span>
          </div>
          <div class="endpoint-details">
            <div class="try-section">
              <div class="try-header">
                <h4>üß™ Try it out</h4>
              </div>
              <div class="form-group">
                <label>Items (JSON Array) <span class="required">*</span></label>
                <textarea id="order-items" placeholder='[{"skuId": 1, "quantity": 2}]'>[{"skuId": 1, "quantity": 1}]</textarea>
                <div class="hint">Format: [{"skuId": number, "quantity": number}, ...]</div>
              </div>
              <div class="form-row">
                <div class="form-group">
                  <label>Shipping Name <span class="required">*</span></label>
                  <input type="text" id="order-name" placeholder="Nguy·ªÖn VƒÉn A" />
                </div>
                <div class="form-group">
                  <label>Shipping Phone <span class="required">*</span></label>
                  <input type="text" id="order-phone" placeholder="0909123456" />
                </div>
              </div>
              <div class="form-group">
                <label>Shipping Address <span class="required">*</span></label>
                <input type="text" id="order-address" placeholder="123 ƒê∆∞·ªùng ABC, Qu·∫≠n 1, TP.HCM" />
              </div>
              <div class="form-row">
                <div class="form-group">
                  <label>Payment Method</label>
                  <select id="order-payment">
                    <option value="COD">COD</option>
                    <option value="Banking">Banking</option>
                    <option value="VNPAY">VNPAY</option>
                    <option value="MOMO">MOMO</option>
                  </select>
                </div>
                <div class="form-group">
                  <label>Note</label>
                  <input type="text" id="order-note" placeholder="Ghi ch√∫..." />
                </div>
              </div>
              <button class="try-btn" onclick="tryCreateOrder()">
                <span>‚ñ∂ Execute</span>
              </button>
              <div id="create-order-response"></div>
            </div>
          </div>
        </div>
      </div>

      <!-- ============== ADDRESSES ============== -->
      <div class="api-section" id="addresses">
        <h2>üìç Addresses</h2>

        <div class="endpoint" id="endpoint-addresses">
          <div class="endpoint-header" onclick="toggleEndpoint('endpoint-addresses')">
            <span class="method get">GET</span>
            <span class="endpoint-path">/addresses</span>
            <span class="endpoint-desc">L·∫•y danh s√°ch ƒë·ªãa ch·ªâ giao h√†ng</span>
            <span class="auth-badge">üîí AUTH</span>
            <span class="toggle-icon">‚ñº</span>
          </div>
          <div class="endpoint-details">
            <div class="try-section">
              <div class="try-header">
                <h4>üß™ Try it out</h4>
              </div>
              <button class="try-btn" onclick="tryGetAddresses()">
                <span>‚ñ∂ Execute</span>
              </button>
              <div id="addresses-response"></div>
            </div>
          </div>
        </div>
      </div>

      <!-- ============== REVIEWS ============== -->
      <div class="api-section" id="reviews">
        <h2>‚≠ê Reviews</h2>

        <div class="endpoint" id="endpoint-reviews">
          <div class="endpoint-header" onclick="toggleEndpoint('endpoint-reviews')">
            <span class="method get">GET</span>
            <span class="endpoint-path">/reviews/product/:productId</span>
            <span class="endpoint-desc">L·∫•y ƒë√°nh gi√° c·ªßa s·∫£n ph·∫©m</span>
            <span class="toggle-icon">‚ñº</span>
          </div>
          <div class="endpoint-details">
            <div class="try-section">
              <div class="try-header">
                <h4>üß™ Try it out</h4>
              </div>
              <div class="form-group">
                <label>Product ID <span class="required">*</span></label>
                <input type="number" id="reviews-productid" placeholder="1" />
              </div>
              <button class="try-btn" onclick="tryGetReviews()">
                <span>‚ñ∂ Execute</span>
              </button>
              <div id="reviews-response"></div>
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>

  <div class="footer">
    <p>üíú Moda Clothing API Documentation | Version 1.0.0</p>
    <p style="margin-top: 5px; font-size: 0.9rem;">Built with ‚ù§Ô∏è for Frontend Developers</p>
  </div>

  <script>
    const API_BASE = 'http://localhost:{{PORT}}/api';
    
    // Toggle endpoint
    function toggleEndpoint(id) {
      const el = document.getElementById(id);
      el.classList.toggle('active');
    }
    
    // Save token
    function saveToken() {
      const token = document.getElementById('globalToken').value;
      localStorage.setItem('moda_token', token);
      alert('‚úÖ Token ƒë√£ ƒë∆∞·ª£c l∆∞u!');
    }
    
    // Get token
    function getToken() {
      return localStorage.getItem('moda_token') || document.getElementById('globalToken').value;
    }
    
    // Format JSON with syntax highlighting
    function formatJSON(json) {
      const str = JSON.stringify(json, null, 2);
      return str.replace(/"([^"]+)":/g, '<span class="json-key">"$1"</span>:')
                .replace(/: "([^"]+)"/g, ': <span class="json-string">"$1"</span>')
                .replace(/: (\d+)/g, ': <span class="json-number">$1</span>')
                .replace(/: (true|false)/g, ': <span class="json-boolean">$1</span>')
                .replace(/: (null)/g, ': <span class="json-null">$1</span>');
    }
    
    // Show response
    function showResponse(containerId, status, data, time) {
      const container = document.getElementById(containerId);
      const statusClass = status >= 200 && status < 300 ? 'success' : status >= 400 ? 'error' : 'warning';
      
      container.innerHTML = `
        <div class="response-section">
          <div class="response-header">
            <span>Response (${time}ms)</span>
            <div style="display: flex; gap: 10px; align-items: center;">
              <span class="status ${statusClass}">${status}</span>
              <button class="copy-btn" onclick="copyResponse(this)">üìã Copy</button>
            </div>
          </div>
          <div class="response-body">
            <pre>${formatJSON(data)}</pre>
          </div>
        </div>
      `;
    }
    
    // Copy response
    function copyResponse(btn) {
      const pre = btn.closest('.response-section').querySelector('pre');
      navigator.clipboard.writeText(pre.textContent);
      btn.textContent = '‚úì Copied!';
      setTimeout(() => btn.textContent = 'üìã Copy', 2000);
    }
    
    // API Calls
    async function apiCall(endpoint, options = {}) {
      const start = Date.now();
      try {
        const res = await fetch(API_BASE + endpoint, {
          headers: {
            'Content-Type': 'application/json',
            ...(options.auth ? { 'Authorization': 'Bearer ' + getToken() } : {}),
            ...options.headers
          },
          ...options
        });
        const data = await res.json();
        return { status: res.status, data, time: Date.now() - start };
      } catch (err) {
        return { status: 500, data: { error: err.message }, time: Date.now() - start };
      }
    }
    
    // Try Login
    async function tryLogin() {
      const email = document.getElementById('login-email').value;
      const password = document.getElementById('login-password').value;
      
      const result = await apiCall('/auth/login', {
        method: 'POST',
        body: JSON.stringify({ email, password })
      });
      
      // Auto save token if login success
      if (result.status === 200 && result.data.data?.accessToken) {
        document.getElementById('globalToken').value = result.data.data.accessToken;
        localStorage.setItem('moda_token', result.data.data.accessToken);
      }
      
      showResponse('login-response', result.status, result.data, result.time);
    }
    
    // Try Register
    async function tryRegister() {
      const result = await apiCall('/auth/register', {
        method: 'POST',
        body: JSON.stringify({
          username: document.getElementById('register-username').value,
          email: document.getElementById('register-email').value,
          password: document.getElementById('register-password').value,
          fullName: document.getElementById('register-fullname').value,
          phone: document.getElementById('register-phone').value
        })
      });
      showResponse('register-response', result.status, result.data, result.time);
    }
    
    // Try Get Me
    async function tryGetMe() {
      const result = await apiCall('/auth/me', { auth: true });
      showResponse('me-response', result.status, result.data, result.time);
    }
    
    // Try Get Products
    async function tryGetProducts() {
      const params = new URLSearchParams();
      const page = document.getElementById('products-page').value;
      const limit = document.getElementById('products-limit').value;
      const category = document.getElementById('products-category').value;
      const search = document.getElementById('products-search').value;
      const minPrice = document.getElementById('products-minprice').value;
      const maxPrice = document.getElementById('products-maxprice').value;
      const sortBy = document.getElementById('products-sortby').value;
      const sortOrder = document.getElementById('products-sortorder').value;
      
      if (page) params.append('page', page);
      if (limit) params.append('limit', limit);
      if (category) params.append('category', category);
      if (search) params.append('search', search);
      if (minPrice) params.append('minPrice', minPrice);
      if (maxPrice) params.append('maxPrice', maxPrice);
      if (sortBy) params.append('sortBy', sortBy);
      if (sortOrder) params.append('sortOrder', sortOrder);
      
      const result = await apiCall('/products?' + params.toString());
      showResponse('products-response', result.status, result.data, result.time);
    }
    
    // Try Get Product Detail
    async function tryGetProductDetail() {
      const id = document.getElementById('product-id').value;
      if (!id) return alert('Vui l√≤ng nh·∫≠p Product ID');
      const result = await apiCall('/products/' + id);
      showResponse('product-detail-response', result.status, result.data, result.time);
    }
    
    // Try Get Featured
    async function tryGetFeatured() {
      const limit = document.getElementById('featured-limit').value || 8;
      const result = await apiCall('/products/featured?limit=' + limit);
      showResponse('featured-response', result.status, result.data, result.time);
    }
    
    // Try Search
    async function trySearch() {
      const q = document.getElementById('search-query').value;
      const limit = document.getElementById('search-limit').value || 10;
      if (!q) return alert('Vui l√≤ng nh·∫≠p t·ª´ kh√≥a t√¨m ki·∫øm');
      const result = await apiCall('/products/search?q=' + encodeURIComponent(q) + '&limit=' + limit);
      showResponse('search-response', result.status, result.data, result.time);
    }
    
    // Try Get Categories
    async function tryGetCategories() {
      const result = await apiCall('/categories');
      showResponse('categories-response', result.status, result.data, result.time);
    }
    
    // Try Get Orders
    async function tryGetOrders() {
      const page = document.getElementById('orders-page').value || 1;
      const status = document.getElementById('orders-status').value;
      let url = '/orders?page=' + page;
      if (status) url += '&status=' + encodeURIComponent(status);
      const result = await apiCall(url, { auth: true });
      showResponse('orders-response', result.status, result.data, result.time);
    }
    
    // Try Create Order
    async function tryCreateOrder() {
      try {
        const items = JSON.parse(document.getElementById('order-items').value);
        const result = await apiCall('/orders', {
          method: 'POST',
          auth: true,
          body: JSON.stringify({
            items,
            shippingName: document.getElementById('order-name').value,
            shippingPhone: document.getElementById('order-phone').value,
            shippingAddress: document.getElementById('order-address').value,
            paymentMethod: document.getElementById('order-payment').value,
            note: document.getElementById('order-note').value
          })
        });
        showResponse('create-order-response', result.status, result.data, result.time);
      } catch (e) {
        alert('Items ph·∫£i l√† JSON h·ª£p l·ªá: ' + e.message);
      }
    }
    
    // Try Get Addresses
    async function tryGetAddresses() {
      const result = await apiCall('/addresses', { auth: true });
      showResponse('addresses-response', result.status, result.data, result.time);
    }
    
    // Try Get Reviews
    async function tryGetReviews() {
      const productId = document.getElementById('reviews-productid').value;
      if (!productId) return alert('Vui l√≤ng nh·∫≠p Product ID');
      const result = await apiCall('/reviews/product/' + productId);
      showResponse('reviews-response', result.status, result.data, result.time);
    }
    
    // Load saved token on page load
    window.onload = function() {
      const savedToken = localStorage.getItem('moda_token');
      if (savedToken) {
        document.getElementById('globalToken').value = savedToken;
      }
    };
    
    // Smooth scroll
    document.querySelectorAll('.nav-link').forEach(link => {
      link.addEventListener('click', (e) => {
        e.preventDefault();
        const target = document.querySelector(link.getAttribute('href'));
        target.scrollIntoView({ behavior: 'smooth', block: 'start' });
      });
    });
  </script>
</body>
</html>
